<?xml version="1.0" encoding="utf-8"?>
<!-- name="GENERATOR" content="github.com/mmarkdown/mmark Mmark Markdown Processor - mmark.miek.nl" -->
<!DOCTYPE rfc SYSTEM 'rfc2629.dtd' []>
<rfc ipr="trust200902" category="std" xml:lang="en" consensus="yes" docName="openid-connect-4-identity-assurance-1_0-07">
<?rfc toc="yes"?><?rfc symrefs="yes"?><?rfc sortrefs="yes"?><?rfc compact="yes"?><?rfc subcompact="no"?><?rfc comments="no"?>
<front>
<title abbrev="openid-connect-4-identity-assurance-1_0">OpenID Connect for Identity Assurance 1.0</title><author initials="T." surname="Lodderstedt" fullname="Torsten Lodderstedt"><organization>yes.com</organization><address><postal><street></street>
</postal><email>torsten@lodderstedt.net</email>
</address></author>
<author initials="D." surname="Fett" fullname="Daniel Fett"><organization>yes.com</organization><address><postal><street></street>
</postal><email>mail@danielfett.de</email>
</address></author>
<date year="2019" month="August" day="15"></date>
<area>Internet</area><workgroup>connect</workgroup><keyword>security</keyword>
<keyword>openid</keyword>
<keyword>identity assurance</keyword>

<abstract><t>This specification defines an extension of OpenID Connect for providing Relying Parties with verified Claims about End-Users. This extension is intended to be used to verify the identity of a natural person in compliance with a certain law.</t>
</abstract>

</front>

<middle>

<section anchor="Introduction" title="Introduction">
<t>この仕様では, OpenID Connect <xref target="OpenID"></xref>の拡張機能を定義して, 特定の法律に従って自然人の強力なidentity verificationのユースケースに対処している. 例には, マネーロンダリング防止法, 電気通信法, テロ対策法, eIDAS <xref target="eIDAS"></xref>などの信託サービスに関する規制が含まれる.</t>
<t>そのようなユースケースでは, 依拠当事者（RPs）は, OpenID Connectプロバイダー（OPs）またはその他の信頼できるソースによって証明されたエンドユーザーに関するClaimの保証レベルと, identity verificationプロセスに関連するエビデンスを知る必要がある.</t>
<t>OpenID Connect仕様<xref target="OpenID"></xref>のセクション2で定義されている<spanx style="verb">acr</spanx>Claimは, OpenID Connectトランザクションで実行される認証に関する情報を証明するのに適してる. ただし, identity assuranceには次の理由で異なる表現が必要である: 認証はOpenID Connectトランザクションの側面であり, identity assuranceは特定のClaimまたはClaimのグループのプロパティであり, それらのいくつかは通常, OpenID Connectトランザクションの結果としてRPに伝えられる.</t>
<t>たとえば, 通常, OPが電子メールアドレスを証明できるという保証は「自己表明」または「オプトインまたは同様のメカニズムによって検証」される. 対照的にユーザーの姓は, OPオペレーターの訓練を受けた従業員にIDカードを提示することにより, それぞれのアンチマネーロンダリング法に従って検証された可能性がある.</t>
<t>したがって, identity assuranceには, エンドユーザーに関する各Claimとともに保証データを伝達する方法が必要である. この仕様は, RPがエンドユーザーに関する検証済みClaimをidentity assuranceデータとともに要求し, OPがこれらの検証済みClaimと付随するidentity assuranceデータを表すために利用する適切な表現とメカニズムを提案する.</t>

<section anchor="terminology" title="Terminology">
<t>このセクションでは, NIST SP 800-63A <xref target="NIST-SP-800-63a"></xref>に大きな影響を受けた, このドキュメントで扱われているトピックに関連するいくつかの用語を定義する.</t>
<t>
<list style="symbols">
<t>Identity Proofing - ユーザーがOPまたは自分自身を確実に識別するClaimプロバイダーにエビデンスを提供することにより, OPが有用なidentity assuranceレベルで識別できるようにするプロセス.</t>
<t>Identify Verification - ユーザーの身元を確認するためにOPまたはClaimプロバイダーによって実行されるプロセス.</t>
<t>Identity Assurance - OPまたはClaimプロバイダーが, RPに対してある一定の確からしさをもって特定のユーザーのIdentityデータを証明するプロセス.  通常はidentity assuranceレベルで表される. 法的要件に応じて, OPはidentity verificationプロセスのエビデンスをRPに提供する必要がある場合もある.</t>
<t>Verified Claims - 特定のユーザーアカウントへのバインドがidentity verificationプロセスの過程で検証されたエンドユーザー（通常は自然人）に関するClaim.</t>
</list>
</t>
</section>
</section>

<section anchor="scope-and-requirements" title="Scope and Requirements">
<t>本仕様のスコープは, 検証されたClaimをアサートするメカニズムを定義し, identity assuranceスペースで必要とされるエンドユーザに関する新しいClaimを導入することである; 例の一つとして出生地がある.</t>
<t>RPは必要とする最小限のデータセットを要求し（データの最小化）, このデータとOPで利用されるエビデンス, およびidentity verificationプロセスに関する要件を表すことができる.</t>
<t>この拡張機能は, eIDAS公認eIDシステムなどのidentity assuranceに関連する特定の規制の下で動作するOP, および他のOPで使用できる. 厳密に規制されたOPは, はっきりと定義された責任を伴う明確に定義されたルールに従って動作することを承認されているため, さらなるエビデンスを提出することなくidentityデータを証明することができる.</t>
<t>例えばeIDASのケースでは, ピアレビューがeIDASのコンプライアンスを保証し, それぞれのメンバー国は公認eIDシステムによるidentityの主張に対して責任を負う. そのような明確に定義された条件下にない他のすべてのOPは, 一般的に, RPが独自のリスク評価を実施し, OPから取得したデータを他の法律にマッピングできるように, identityエビデンスに加えて, RPにidentity verificationプロセスに関するデータを提供する必要がある. 例えばeIDASで定義された要件を満たすために, マネーロンダリング防止法に従って維持されているidentityデータを使用することができる.</t>
<t>技術的な観点から, この仕様はOPが各トラストフレームワーク(とassuranceレベル)についての情報に加えて, 検証済みClaimの証明を許可することを意味するが, identity verificationプロセスに関する情報の表出化のサポートも行う.</t>
<t>この仕様で定義された表現方式は, 適切なチャネルを介してエンドユーザに関する検証済ClaimをRPに提供するために利用できる. OpenID Connectのコンテキストでは, 検証済ClaimはID TokenかUserInfo responseの一部として証明することができる. またOAuth Token Introspection response (<xref target="RFC7662"></xref> 及び <xref target="I-D.ietf-oauth-jwt-introspection-response"></xref>を参照)で説明されている形式を利用して, 検証済Claimをリソースサーバに提供することも可能である.</t>
<t>この拡張は真に国際的なものであり, 異なる管轄のidentity assuranceもサポートさせる予定である. そのためこの拡張機能は追加のトラストフレームワーク, 検証メソッド, identityエビデンスをサポートするために拡張することができる.</t>
<t>実装者に可能な限りの柔軟性を与えるために, この拡張は既存のOpenID ConnectのClaimおよび同じOpenID Connectのアサーション(例えば, ID TokenやUserInfo)内の他の拡張と組み合わせて使うことができる.</t>
<t>例えば, OpenID Connect <xref target="OpenID"></xref> は検証ステータスのないユーザの姓と名を表すClaimを定義している. これらのClaimはこの拡張に従って表現される検証済みClaimとともに同じOpenID Connectのアサーションで使うことができる.</t>
<t>同じように, RPに<spanx style="verb">phone_number</spanx>と<spanx style="verb">email</spanx>Claimの検証ステータスを通知する既存Claimもこの拡張とともに使うことができる.</t>
<t>検証済みClaimを主張する場合でも, この拡張は可能かつ妥当であれば既存のOpenID ConnectのClaimを利用する. しかしながら, 拡張はRPが未検証Claimを検証済Claimとして(誤って)解釈できないようにする.</t>
</section>

<section anchor="claims" title="Claims">

<section anchor="userclaims" title="Additional Claims about End-Users">
<t>identity assuranceに関する一部の権限の要件を満たすために, この仕様ではOpenID仕様<xref target="OpenID"></xref>に定義されているClaimにユーザデータを伝達するための以下の追加のClaimを定義する:</t>
<t>
<list style="symbols">
<t><spanx style="verb">place_of_birth</spanx>: エンドユーザの出生地を示す構造化されたClaim. 次のフィールドで構成される:
<list style="symbols">
<t><spanx style="verb">country</spanx>: 必須(REQUIRED). <xref target="ISO3166-1"></xref> Alpha-2 (例えば, DE) または <xref target="ISO3166-3"></xref></t>
<t><spanx style="verb">region</spanx>: State, province, prefecture, または他の地域コンポーネント. 一部の管轄区域ではこのフィールドは必須かもしれない.</t>
<t><spanx style="verb">locality</spanx>: 必須(REQUIRED). city, または別の地域.</t>
</list></t>
<t><spanx style="verb">nationalities</spanx>: ユーザの国籍を表すICAO 2-letter codes <xref target="ICAO-Doc9303"></xref>の文字配列. 例えば &quot;US&quot; や &quot;DE&quot;. &quot;EUE&quot;のように対応する2-letter codeがない場合, 3-letter codesを利用してもよい(MAY).</t>
<t><spanx style="verb">birth_family_name</spanx>: 彼または彼女が生まれたとき, あるいは少なくとも子供の時から持っている姓. この用語は人生の途中に何らかの理由で姓を変更した人が利用できる.</t>
<t><spanx style="verb">birth_given_name</spanx>: 彼または彼女が生まれたとき, あるいは少なくとも子供の時から持っている名前. この用語は人生の途中に何らかの理由で名前を変更した人が利用できる.</t>
<t><spanx style="verb">birth_middle_name</spanx>: 彼または彼女が生まれたとき, あるいは少なくとも子供の時から持っているミドルネーム. この用語は人生の途中に何らかの理由でミドルネームを変更した人が利用できる.</t>
<t><spanx style="verb">salutation</spanx>: エンドユーザの敬称, 例えば “Mr.”</t>
<t><spanx style="verb">title</spanx>: エンドユーザの肩書, 例えば “Dr.”</t>
</list>
</t>
</section>

<section anchor="txn-claim" title="txn Claim">
<t>一般的に, 強固なidentity verificationは参加者がプロセス全体の監査証跡を保持する必要がある.</t>
<t><xref target="RFC8417"></xref>で定義されている<spanx style="verb">txn</spanx>Claimはこの拡張のコンテキストで使用され, OpenID Connectトランザクションに関わるの関係者全体の監査証跡を構築する.</t>
<t>OPが<spanx style="verb">txn</spanx>を発行する場合, 対応する監査証跡を維持する必要があり(MUST), 少なくとも次の詳細で構成される.</t>
<t>
<list style="symbols">
<t>transaction id,</t>
<t>採用されている authentication methods, および</t>
<t>transaction type (scope値など).</t>
</list>
</t>
<t>このトランザクションデータは, それぞれの規定による監査目的のためにトランザクションデータを保存する必要がある限り保存し続けなければならない(MUST).</t>
<t>RPはこのClaimを<spanx style="verb">claims</spanx>パラメータを介して, またはscope値によって識別されるデフォルトのClaimの一部として, 他のClaimと同様に要求する.</t>
<t><spanx style="verb">txn</spanx>値は必要に応じてRPがこれらのトランザクションを参照できるようにしなければならない(MUST).</t>
<t>注：トランザクションの詳細を, OPおよび, それらのフォーマットから取得するメカニズムはこの仕様の範囲外である.</t>
</section>
</section>

<section anchor="verified-data-representation" title="Verified Data Representation">
<t>OpenID Connectのこの拡張は,RPが検証済みのClaimと未検証のClaimを混在させ, 検証済みのClaimとして未検証のClaimを偶発的に処理できないようにすることを目的としている.</t>
<t>それ故, 提案された表現は<spanx style="verb">verified_claims</spanx>コンテナ要素内で検証済みClaimをRPに提供することである. このコンテナは特定の検証プロセスに関連する検証のエビデンスとこのプロセスで検証されたエンドユーザについての該当Claimで構成されている.</t>
<t>このセクションでは<spanx style="verb">verified_claims</spanx>の構造と意味について詳しく説明する. 機械可読な構文定義は<xref target="json_schema"></xref>でJSONスキーマとして提供される. <spanx style="verb">verified_claims</spanx>要素を含むJSONドキュメントを自動的に検証するために使用できる.</t>
<t><spanx style="verb">verified_claims</spanx>は以下のサブ要素で構成される:</t>
<t>
<list style="symbols">
<t><spanx style="verb">verification</spanx>: 必須(REQUIRED). 検証プロセスに関するすべてのデータを含むオブジェクト.</t>
<t><spanx style="verb">claims</spanx>: 必須(REQUIRED). エンドユーザに関するの検証済Claimのためのコンテナであるオブジェクト.</t>
</list>
</t>
<t>注: 実装は, この仕様またはこの仕様の拡張で定義されていないサブ要素を無視しなければならない(MUST).</t>

<section anchor="verification" title="verification Element">
<t>この要素には, 個人の身元を確認し, それぞれの個人データをユーザーアカウントにバインドするために実行されたプロセスに関する情報が含まれる.</t>
<t><spanx style="verb">verification</spanx>要素は以下の要素を含む:</t>
<t><spanx style="verb">trust_framework</spanx>: 必須(REQUIRED). OPのidentity verificationプロセスと, identity assuranceレベルを管理するtrust frameworkを定める文字列.</t>
<t>例としては<spanx style="verb">eidas_ial_high</spanx>で, これはeIDAS <xref target="eIDAS"></xref> の下で通知されたeIDシステムを示し, assuranceレベル&quot;high&quot;のidentity assuranceを提供する.</t>
<t>標準化された値の初期リストは、<eref target="#predefined_values_tf">Trust Frameworks</eref>で定義されている. 追加のtrust framework identifiersも導入できる[how？]. RPは理解できないtrust framework identifiersを含む<spanx style="verb">verified_claims</spanx>Claimを無視しなければならない(SHOLUD).</t>
<t><spanx style="verb">trust_framework</spanx>は、<spanx style="verb">verification</spanx>要素の中でRPに提供される追加のデータを決定する. たとえば、eIDAS公認eIDシステムは, データを追加する必要はないが, eIDASに管理されていないOPはRPが法的義務を果たすために検証証拠を提供する必要がある. 後者の例としては、ドイツのマネーロンダリング防止法（<spanx style="verb">de_aml</spanx>）に基づいて行動するOPである.</t>
<t><spanx style="verb">time</spanx>: IDの検証が行われた日時を示すISO 8601:2004 [ISO8601-2004] <spanx style="verb">YYYY-MM-DDThh:mm:ss±hh</spanx> フォーマットのタイムスタンプ. 特定のトラストフレームワークでは、この要素の存在が必要になる場合がある.</t>
<t><spanx style="verb">verification_process</spanx>: OPによって実行されるidentity verificationプロセスへの一意の参照. 紛争または監査の場合のバックトレースに使用される.特定のトラストフレームワークでは、この要素の存在が必要になる場合がある.</t>
<t>注：<spanx style="verb">verification_process</spanx> はOPでのidentity verificationプロセスを指すが, <spanx style="verb">txn</spanx>ClaimはOPがRPに対してユーザ検証済identityデータを証明した特定のOpenID Connectトランザクションを指す.</t>
<t><spanx style="verb">evidence</spanx>: OPがユーザのidentityを個別のJSONオブジェクトとして検証するために使用した <spanx style="verb">evidence</spanx> に関する情報を含むJSON配列. すべてのオブジェクトには, evidenceのタイプを決定する<spanx style="verb">type</spanx>プロパティが含まれている. RPはこの情報を<spanx style="verb">evidence</spanx>プロパティを適切に処理するために利用する.</t>
<t>重要:実装はこの仕様またはこの仕様の拡張で定義されていないサブ要素を無視しなければならない(MUST).</t>

<section anchor="evidence" title="Evidence">
<t>次のevidenceのタイプが定義されている:</t>
<t>
<list style="symbols">
<t><spanx style="verb">id_document</spanx>: あらゆる種類の政府発行の身分証明書に基づく検証</t>
<t><spanx style="verb">utility_bill</spanx>: 公共料金の支払に基づく検証</t>
<t><spanx style="verb">qes</spanx>: eIDAS認定電子署名に基づく検証</t>
</list>
</t>

<section anchor="id-document" title="id_document">
<t>次の種類の属性が <spanx style="verb">id_document</spanx> evidenceのサブ要素として含まれる.</t>
<t><spanx style="verb">method</spanx>: 必須(REQUIRED). id documentを検証するために使われるメソッド. 事前に定義された値は <eref target="#predefined_values_vm">Verification Methods</eref>で定義されている.</t>
<t><spanx style="verb">verifier</spanx>: オプション(OPTIONAL). OPに代わってidentity verificationを実行した法人を示すJSONオブジェクト. このオブジェクトは、OPがidentity verificationを実行しなかった場合にのみ含める必要がある(SHOULD). このオブジェクトは次のプロパティで構成される:</t>
<t>
<list style="symbols">
<t><spanx style="verb">organization</spanx>: OPに変わって検証を行った組織を表す文字列.</t>
<t><spanx style="verb">txn</spanx>: identity verificationのトランザクションを参照する識別子. このトランザクション識別子は、監査中のトランザクションの詳細を分析できる.</t>
</list>
</t>
<t><spanx style="verb">time</spanx>: このid documentが検証された日付を表すISO 8601:2004 [ISO8601-2004] <spanx style="verb">YYYY-MM-DDThh:mm:ss±hh</spanx>フォーマットのタイムスタンプ.</t>
<t><spanx style="verb">document</spanx>: ID検証に使用されるid documentを表すJSONオブジェクト. 次のプロパティで構成される:</t>
<t>
<list style="symbols">
<t><spanx style="verb">type</spanx>: 必須(REQUIRED). id documentのタイプを示す文字列. 標準化された値は<eref target="#predefined_values_idd">Identity Documents</eref>で定義されます. OPは事前に定義されていない値を使用するかもしれず(MAY), その場合, RPはアサーションを処理できないか, 監査目的でこの値を保存するだけか, またはそれに言及されたビジネスロジックであることを表す.</t>
<t><spanx style="verb">number</spanx>: identity documentの番号を表す文字列.</t>
<t><spanx style="verb">issuer</spanx>: このidentity documentの発行者の情報を含むJSONオブジェクト. このオブジェクトは次のプロパティで構成される:
<list style="symbols">
<t><spanx style="verb">name</spanx>:必須(REQUIRED). identity documentの発行者の名称.</t>
<t><spanx style="verb">country</spanx>: ドキュメントを ICAO 2-letter-code <xref target="ICAO-Doc9303"></xref>として発行した国または組織を示す文字列（例： &quot;JP&quot;）. ICAO 3-letter codes は, &quot;UNO&quot;など, 対応するISO 2-letter codes がない場合に使用できる.</t>
</list></t>
<t><spanx style="verb">date_of_issuance</spanx>: 特定の種類のドキュメント用にこの属性が存在する場合は必須(REQUIRED). ISO 8601:2004 YYYY-MM-DDフォーマットでドキュメントが発行された日付.</t>
<t><spanx style="verb">date_of_expiry</spanx>: 特定の種類のドキュメント用にこの属性が存在する場合は必須(REQUIRED). ISO 8601:2004 YYYY-MM-DDフォーマットのドキュメントの有効期限.</t>
</list>
</t>
</section>

<section anchor="utility-bill" title="utility_bill">
<t>次の種類の要素が <spanx style="verb">utility_bill</spanx> evidenceのサブ要素として含まれる.</t>
<t><spanx style="verb">provider</spanx>: 必須(REQUIRED). 請求書を発行した各プロバイダを識別するJSONオブジェクト. オブジェクトは次のプロパティで構成される:</t>
<t>
<list style="symbols">
<t><spanx style="verb">name</spanx>: プロバイダを指定する文字列.</t>
<t>OpenID Connectの <spanx style="verb">address</spanx> Claim (<xref target="OpenID"></xref>)のすべての要素</t>
</list>
</t>
<t><spanx style="verb">date</spanx>: この請求書が発行された日時を含むISO 8601:2004 YYYY-MM-DDフォーマットの文字列.</t>
</section>

<section anchor="qes" title="qes">
<t>次の種類の要素が <spanx style="verb">qes</spanx> evidenceのサブ要素として含まれる.</t>
<t><spanx style="verb">issuer</spanx>: 必須(REQUIRED). 署名者の証明書を発行した証明機関を示す文字列.</t>
<t><spanx style="verb">serial_number</spanx>:必須(REQUIRED). 署名に使用される証明書のシリアルナンバーを含む文字列.</t>
<t><spanx style="verb">created_at</spanx>: 必須(REQUIRED).  ISO 8601:2004 YYYY-MM-DDThh:mm:ss±hhフォーマットの署名が作られた時間.</t>
</section>
</section>
</section>

<section anchor="claimselement" title="claims Element">
<t><spanx style="verb">claims</spanx>要素にはプロセスによって検証され, 対応する<spanx style="verb">verification</spanx> 要素によって決定されたポリシーに従って検証されたエンドユーザについてのClaimが含まれる.</t>
<t><spanx style="verb">claims</spanx>要素にはOpenID Connect specification <xref target="OpenID"></xref>のSection 5.1で定義されている以下のClaimが一つ以上含まれるかもしれない(MAY)</t>
<t>
<list style="symbols">
<t><spanx style="verb">name</spanx></t>
<t><spanx style="verb">given_name</spanx></t>
<t><spanx style="verb">middle_name</spanx></t>
<t><spanx style="verb">family_name</spanx></t>
<t><spanx style="verb">birthdate</spanx></t>
<t><spanx style="verb">address</spanx></t>
</list>
</t>
<t>または<xref target="userclaims"></xref>で定義されているClaimを含むかもしれない.</t>
<t><spanx style="verb">claims</spanx>要素は, 兄弟要素の<spanx style="verb">verification</spanx>で提示された検証プロセスでそれぞれのClaimの値が検証された場合, 他のClaimも含むかもしれない(MAY).</t>
<t>Claim名は, OpenID Connect仕様<xref target="OpenID"></xref>のSection5.2で指定されている言語タグで注釈を付けてもよい(MAY).</t>
</section>
</section>

<section anchor="requesting-verified-claims" title="Requesting Verified Claims">

<section anchor="req_claims" title="Requesting End-User Claims">
<t>Verified Claims は OpenID Connect specification <xref target="OpenID"></xref> の Section 5.5. に定義されている <spanx style="verb">claims</spanx> parameter を利用することで, End-User について 個々の Claims のレベルで要求できる.</t>
<t><spanx style="verb">verified_claims</spanx> は <spanx style="verb">claims</spanx> パラメーターの <spanx style="verb">userinfo</spanx> か <spanx style="verb">id_token</spanx> 要素に追加される.</t>
<t><spanx style="verb">verified_claims</spanx> にはネストされた <spanx style="verb">claims</spanx> 要素の中に End-User についての有効な Claims が含まれるため, syntax は次のようにネストされた要素の式を含むように拡張される. <spanx style="verb">verified_claims</spanx> 要素は <spanx style="verb">claims</spanx> 要素を含み, <spanx style="verb">null</spanx> 値を持つキーとして要求する Claims を含む. 以下に例を示す.</t>

<figure><artwork type="json">{  
   &quot;userinfo&quot;:{  
      &quot;verified_claims&quot;:{  
         &quot;claims&quot;:{  
            &quot;given_name&quot;:null,
            &quot;family_name&quot;:null,
            &quot;birthdate&quot;:null
         }
      }
   }	
}
</artwork></figure>

<t><spanx style="verb">claims</spanx> パラメータを使用すると, RP はユースケースに必要な End-User に関する Claims を正確に選択できる. したがって, この拡張は RPs はデータ最小化の要件を満たすことができる.</t>
<t>RPs は, OpenID Connect specification <xref target="OpenID"></xref> の Section 5.5.1 で定義されている <spanx style="verb">essential</spanx> フィールドを利用することにより, 特定の Claim がユーザージャーニーの正常な完了に不可欠であることを示すことができる. 次の例では, 姓と名の両方を必須として指定している.</t>

<figure><artwork type="json">{  
   &quot;userinfo&quot;:{  
      &quot;verified_claims&quot;:{  
         &quot;claims&quot;:{  
            &quot;given_name&quot;:{&quot;essential&quot;: true},
            &quot;family_name&quot;:{&quot;essential&quot;: true},
            &quot;birthdate&quot;:null
         }
      }
   }	
}
</artwork></figure>

<t>この仕様では, RP が要求する特定の End-User Claim の移転の目的を説明できるようにするために, 追加のフィールド <spanx style="verb">purpose</spanx> を導入する.
<spanx style="verb">purpose</spanx> フィールドは, 個々に要求された各 Claim のメンバー値にすることができるが, 1つのClaim には複数の関連する目的を含めることはできない.</t>
<t><spanx style="verb">purpose</spanx> OPTIONAL. OP から特定の End-User Claim を取得する目的を説明する文字列. <spanx style="verb">purpose</spanx> は 3 文字未満か 300 文字以上となってはならない (MUST NOT).
もしこのルールに違反した場合, authentication request は失敗し, OP は <spanx style="verb">invalid_request</spanx> エラーを RP にに返さなければならない (MUST).
移転されるデータの利用目的や承認しようとしている認可内容をユーザーに明示するため, OPは各同意画面にこの purpose を表示しなければならない (MUST).
<spanx style="verb">purpose</spanx> パラメーターがリクエストに存在しない場合, OP はRPごとに事前設定された値を表示できる (MAY).
UI ローカリゼーションの詳細については, <xref target="purpose"></xref> 参照.</t>
<t>例:</t>

<figure><artwork type="json">{  
   &quot;userinfo&quot;:{  
      &quot;verified_claims&quot;:{  
         &quot;claims&quot;:{  
            &quot;given_name&quot;:{  
               &quot;essential&quot;:true,
               &quot;purpose&quot;:&quot;To make communication look more personal&quot;
            },
            &quot;family_name&quot;:{  
               &quot;essential&quot;:true
            },
            &quot;birthdate&quot;:{  
               &quot;purpose&quot;:&quot;To send you best wishes on your birthday&quot;
            }
         }
      }
   }
}
</artwork></figure>

<t>注: 値が <spanx style="verb">null</spanx> の <spanx style="verb">claims</spanx> サブ要素は, 考えられるすべての Claims に対するリクエストとして解釈される. 以下に例を示す:</t>

<figure><artwork type="json">{  
   &quot;userinfo&quot;:{  
      &quot;verified_claims&quot;:{  
         &quot;claims&quot;:null
      }
   }	
}
</artwork></figure>

<t>注: <spanx style="verb">claims</spanx> サブ要素は省略でき, これは, 値が <spanx style="verb">null</spanx> である <spanx style="verb">claims</spanx> 要素と同等である.</t>
<t>注: <spanx style="verb">claims</spanx> サブ要素が空か, <xref target="claimselement"></xref> に定義されている要件を満たなさい Claims を含む場合, OP は <spanx style="verb">invalid_request</spanx> エラーでトランザクションを中断するだろう.</t>
</section>

<section anchor="req_verification" title="Requesting Verification Data">
<t><spanx style="verb">verification</spanx> 要素内容は, 基本的にそれぞれの <spanx style="verb">trust_framework</spanx> と Claim source のポリシーによって決定される.</t>
<t>この仕様は RP が特定のデータを <spanx style="verb">verification</spanx> 要素に明示的に要求する方法も定義する. 構文は <xref target="req_claims"></xref> で指定されたルールに基づいており, <spanx style="verb">verification</spanx> 要素の構造へのナビゲーションのためにそれらを拡張する.</t>
<t>次の例で示すように, <spanx style="verb">verification</spanx> 内の要素としてそれぞれの要素を追加することで, <xref target="req_claims"></xref> に定義されているのと同じ方法でリクエストできる.</t>

<figure><artwork type="json">{  
   &quot;verified_claims&quot;:{  
      &quot;verification&quot;:{  
         &quot;date&quot;:null,
         &quot;evidence&quot;:null
      },
      &quot;claims&quot;:null
   }
}
</artwork></figure>

<t>これは, 発行されたアサーションに検証の日付と利用可能な証拠が存在することを要求する.</t>
<t>注: <spanx style="verb">verified_claims</spanx> Claim の必須要素であるため, RP は明示的に<spanx style="verb">trust_framework</spanx> フィールドを要求する必要はない.</t>
<t>RP は, 構造を1段深く掘り下げ, 特定のデータがすべての <spanx style="verb">evidence</spanx> 内に存在することを要求する場合もある. result array 内のすべてのエントリのプロトタイプとして, 単一のエントリが使用される.</t>

<figure><artwork type="json">{  
   &quot;verified_claims&quot;:{  
      &quot;verification&quot;:{  
         &quot;date&quot;:null,
         &quot;evidence&quot;:[  
            {  
               &quot;method&quot;:null,
               &quot;document&quot;:null
            }
         ]
      },
      &quot;claims&quot;:null
   }
}
</artwork></figure>

<t>この例では, 特定のユーザーアカウントで利用可能なすべての証拠について, <spanx style="verb">method</spanx> 要素と <spanx style="verb">document</spanx> 要素を要求する.</t>
<t>注: <spanx style="verb">evidence</spanx> エントリの必須要素であるため, RP は明示的に <spanx style="verb">type</spanx> フィールドを要求する必要はない.</t>
<t>RPは, <spanx style="verb">document</spanx> 要素内に特定のデータが存在することを要求する場合もある. これも, 上記で使用した構文規則に従う.</t>

<figure><artwork type="json">{  
   &quot;verified_claims&quot;:{  
      &quot;verification&quot;:{  
         &quot;date&quot;:null,
         &quot;evidence&quot;:[  
            {  
               &quot;method&quot;:null,
               &quot;document&quot;:{  
                  &quot;issuer&quot;:null,
                  &quot;number&quot;:null,
                  &quot;date_of_issuance&quot;:null
               }
            }
         ]
      },
      &quot;claims&quot;:null
   }
}
</artwork></figure>

<t>注: <spanx style="verb">document</spanx> エントリの必須要素であるため, RP は明示的に <spanx style="verb">type</spanx> フィールドを要求する必要はない.</t>
<t>RP に要求された検証データを提供するか決定するのは, Claim source の裁量である.</t>
</section>

<section anchor="constraintedclaims" title="Defining constraints on Verification Data">
<t>RP は <spanx style="verb">verification</spanx> サブ要素の要素に関する要件を表現できる (MAY).</t>
<t>ここでも再び, <spanx style="verb">verified_claims</spanx> claim のネストされた性質によって, OpenID Connect specification <xref target="OpenID"></xref> の Section 5.5. で定義されている構文の拡張が必要である.</t>
<t>OpenID Connect specification <xref target="OpenID"></xref> の Section 5.5.1 は, Claim の 追加情報/制約を持つ JSON object を要求するような Claim のメンバー値であることを許す構文を定義する.
そのために, 特別なクエリの意味を持つ3つのメンバー (<spanx style="verb">essential</spanx>, <spanx style="verb">value</spanx>, および <spanx style="verb">values</spanx>) を定義し, 他の特別なメンバーを定義できるようにする (理解されていないメンバーは無視しなければならない).</t>
<t>この仕様はそのメカニズムを再利用し, 新しいそのような <spanx style="verb">max_age</spanx> メンバーを導入する (下記参照).</t>
<t>まず, <spanx style="verb">value</spanx> か <spanx style="verb">values</spanx> フィールドを利用して, <spanx style="verb">trust_framework</spanx>, <spanx style="verb">evidence/type</spanx>, <spanx style="verb">evidence/method</spanx>, 及び <spanx style="verb">evidence/document/type</spanx> の利用可能な値を制限することができる (MAY).</t>
<t>次の例は, RP が AML(訳注: Anti-Money Laundering) に基づいて, 政府発行のIDドキュメントを使用して, 銀行の支店で直接本人確認を行った人に限定したユーザーの証明を取得したいことを示している.</t>

<figure><artwork type="json">{  
   &quot;userinfo&quot;:{  
      &quot;verified_claims&quot;:{  
         &quot;verification&quot;:{  
            &quot;trust_framework&quot;:{  
               &quot;value&quot;:&quot;de_aml&quot;
            },
            &quot;evidence&quot;:[  
               {  
                  &quot;type&quot;:{  
                     &quot;value&quot;:&quot;id_document&quot;
                  },
                  &quot;method&quot;:{  
                     &quot;value&quot;:&quot;pipp&quot;
                  },
                  &quot;document&quot;:{  
                     &quot;type&quot;:{  
                        &quot;values&quot;:[  
                           &quot;idcard&quot;,
                           &quot;passport&quot;
                        ]
                     }
                  }
               }
            ]
         },
         &quot;claims&quot;:null
      }
   }
}
</artwork></figure>

<t>RP は, 検証データの経過時間, すなわち <spanx style="verb">verification</spanx> 要素で主張された検証プロセスが実行されてからの経過時間に関する要件も表現できる (MAY).</t>
<t>したがって, この仕様では新しいメンバー <spanx style="verb">max_age</spanx> を定義している.</t>
<t><spanx style="verb">max_age</spanx>: OPTIONAL. 日付またはタイムスタンプを含む Claims にのみ適用可能な JSON 数値. 日付/タイムスタンプの値からリクエストの時点までの経過を許可する最大時間 (秒) を定義する. OP は, 日付値の最後の有効な秒から開始した経過時間の計算を行わなければならない. 以下は, データの検証プロセスが 63113852 秒以前であることを認めない Claims のリクエストの例である.</t>
<t>以下に例を示す:</t>

<figure><artwork type="json">{  
   &quot;userinfo&quot;:{  
      &quot;verified_claims&quot;:{  
         &quot;verification&quot;:{  
            &quot;date&quot;:{  
               &quot;max_age&quot;:63113852
            }
         },
         &quot;claims&quot;:null
      }
   }
}
</artwork></figure>

<t>OP はこの要件を満たそうとしなければならない (SHOULD). ユーザーの検証データがリクエストされた <spanx style="verb">max_age</spanx> よりも古い場合, OP はユーザーにオンラインID確認プロセスを介して, ユーザーの確認を更新しようとするかもしれない (MAY). 例えば 電子IDカードまたはビデオ識別アプローチを利用することによって.</t>
<t>OP が要件を満たすことができない場合 (<spanx style="verb">essential</spanx> とマークされている場合でも), RP に利用可能なデータを提供し, RP はデータの使用方法を決定できる. OP は, 必須 Claims として要求されたすべての Claims を返すことができない場合にエラーを返してはならない (MUST NOT).</t>
</section>
</section>

<section anchor="examples" title="Examples">
<t>以下のセクションでは <spanx style="verb">verified_claims</spanx> に関する例を示す.</t>
<t>最初と 2つ目のセクションでは, 一般的な identity assuarance のケースの JSON snippets を示し, RP には End-User に関する実際の Claims と一緒に, 様々な検証方法による verification evidence が提供される.</t>
<t>3つ目のセクションでは, OP が RP に対して 本人確認プロセスの evicende を提供する必要がない eIDAS の元で通知されたeID system の場合, どのようにこのオブジェクトのコンテンツが見えるかを説明している.</t>
<t>後続のセクションでは, 異なる経路で <spanx style="verb">verified_claims</spanx> Claim を使用し, 他の (unverified) Claims と組み合わせて使用する例を含む.</t>

<section anchor="id-document-1" title="id_document">

<figure><artwork type="JSON">{  
   &quot;verified_claims&quot;:{  
      &quot;verification&quot;:{  
         &quot;trust_framework&quot;:&quot;de_aml&quot;,
         &quot;time&quot;:&quot;2012-04-23T18:25:43.511+01&quot;,
         &quot;verification_process&quot;:&quot;676q3636461467647q8498785747q487&quot;,
         &quot;evidence&quot;:[  
            {  
               &quot;type&quot;:&quot;id_document&quot;,
               &quot;method&quot;:&quot;pipp&quot;,
               &quot;document&quot;:{  
                  &quot;type&quot;:&quot;idcard&quot;,
                  &quot;issuer&quot;:{  
                     &quot;name&quot;:&quot;Stadt Augsburg&quot;,
                     &quot;country&quot;:&quot;DE&quot;
                  },
                  &quot;number&quot;:&quot;53554554&quot;,
                  &quot;date_of_issuance&quot;:&quot;2012-04-23&quot;,
                  &quot;date_of_expiry&quot;:&quot;2022-04-22&quot;
               }
            }
         ]
      },
      &quot;claims&quot;:{  
         &quot;given_name&quot;:&quot;Max&quot;,
         &quot;family_name&quot;:&quot;Meier&quot;,
         &quot;birthdate&quot;:&quot;1956-01-28&quot;,
         &quot;place_of_birth&quot;:{  
            &quot;country&quot;:&quot;DE&quot;,
            &quot;locality&quot;:&quot;Musterstadt&quot;
         },
         &quot;nationality&quot;:&quot;DE&quot;,
         &quot;address&quot;:{  
            &quot;locality&quot;:&quot;Maxstadt&quot;,
            &quot;postal_code&quot;:&quot;12344&quot;,
            &quot;country&quot;:&quot;DE&quot;,
            &quot;street_address&quot;:&quot;An der Sanddüne 22&quot;
         }
      }
   }
}
</artwork></figure>

</section>

<section anchor="id-document-utility-bill" title="id_document + utility bill">

<figure><artwork type="JSON">{  
   &quot;verified_claims&quot;:{  
      &quot;verification&quot;:{  
         &quot;trust_framework&quot;:&quot;de_aml&quot;,
         &quot;time&quot;:&quot;2012-04-23T18:25:43.511+01&quot;,
         &quot;verification_process&quot;:&quot;676q3636461467647q8498785747q487&quot;,
         &quot;evidence&quot;:[  
            {  
               &quot;type&quot;:&quot;id_document&quot;,
               &quot;method&quot;:&quot;pipp&quot;,
               &quot;document&quot;:{  
                  &quot;document_type&quot;:&quot;de_erp_replacement_idcard&quot;,
                  &quot;issuer&quot;:{  
                     &quot;name&quot;:&quot;Stadt Augsburg&quot;,
                     &quot;country&quot;:&quot;DE&quot;
                  },
                  &quot;number&quot;:&quot;53554554&quot;,
                  &quot;date_of_issuance&quot;:&quot;2012-04-23&quot;,
                  &quot;date_of_expiry&quot;:&quot;2022-04-22&quot;
               }
            },
            {  
               &quot;type&quot;:&quot;utility_bill&quot;,
               &quot;provider&quot;:{  
                  &quot;name&quot;:&quot;Stadtwerke Musterstadt&quot;,
                  &quot;country&quot;:&quot;DE&quot;,
                  &quot;region&quot;:&quot;Thüringen&quot;,
                  &quot;street_address&quot;:&quot;Energiestrasse 33&quot;
               },
               &quot;date&quot;:&quot;2013-01-31&quot;
            }
         ]
      },
      &quot;claims&quot;:{  
         &quot;given_name&quot;:&quot;Max&quot;,
         &quot;family_name&quot;:&quot;Meier&quot;,
         &quot;birthdate&quot;:&quot;1956-01-28&quot;,
         &quot;place_of_birth&quot;:{  
            &quot;country&quot;:&quot;DE&quot;,
            &quot;locality&quot;:&quot;Musterstadt&quot;
         },
         &quot;nationality&quot;:&quot;DE&quot;,
         &quot;address&quot;:{  
            &quot;locality&quot;:&quot;Maxstadt&quot;,
            &quot;postal_code&quot;:&quot;12344&quot;,
            &quot;country&quot;:&quot;DE&quot;,
            &quot;street_address&quot;:&quot;An der Sanddüne 22&quot;
         }
      }
   }
}
</artwork></figure>

</section>

<section anchor="notified-eid-system-eidas" title="Notified eID system (eIDAS)">

<figure><artwork type="JSON">{  
   &quot;verified_claims&quot;:{  
      &quot;verification&quot;:{  
         &quot;trust_framework&quot;:&quot;eidas_ial_substantial&quot;
      },
      &quot;claims&quot;:{  
         &quot;given_name&quot;:&quot;Max&quot;,
         &quot;family_name&quot;:&quot;Meier&quot;,
         &quot;birthdate&quot;:&quot;1956-01-28&quot;,
         &quot;place_of_birth&quot;:{  
            &quot;country&quot;:&quot;DE&quot;,
            &quot;locality&quot;:&quot;Musterstadt&quot;
         },
         &quot;nationality&quot;:&quot;DE&quot;,
         &quot;address&quot;:{  
            &quot;locality&quot;:&quot;Maxstadt&quot;,
            &quot;postal_code&quot;:&quot;12344&quot;,
            &quot;country&quot;:&quot;DE&quot;,
            &quot;street_address&quot;:&quot;An der Sanddüne 22&quot;
         }
      }
   }
}
</artwork></figure>

</section>

<section anchor="verified-claims-in-userinfo-response" title="Verified Claims in UserInfo Response">

<section anchor="request" title="Request">
<t>この例では, RP は <spanx style="verb">scope</spanx> パラメーターを<spanx style="verb">email</spanx> <spanx style="verb">address</spanx> を要求するために使用し, さらに verified Claims を要求するために <spanx style="verb">claims</spanx> パラメータを使用することを想定する.</t>
<t>scope 値は次の通り: <spanx style="verb">scope=openid email</spanx></t>
<t><spanx style="verb">claims</spanx> パラメータ値は次の通り:</t>

<figure><artwork type="json">{  
   &quot;userinfo&quot;:{  
       &quot;verified_claims&quot;:{  
         &quot;claims&quot;:{  
            &quot;given_name&quot;:null,
            &quot;family_name&quot;:null,
            &quot;birthdate&quot;:null
         }
      }
   }	
}
</artwork></figure>

</section>

<section anchor="userinfo-response" title="UserInfo Response">
<t>それぞれの UserInfo レスポンスは次の通り:</t>

<figure><artwork type="http">HTTP/1.1 200 OK
Content-Type: application/json

{  
   &quot;iss&quot;:&quot;https://server.example.com&quot;,
   &quot;sub&quot;:&quot;248289761001&quot;,
   &quot;email&quot;:&quot;janedoe@example.com&quot;,
   &quot;email_verified&quot;:true,
   &quot;verified_claims&quot;:{  
      &quot;verification&quot;:{  
         &quot;trust_framework&quot;:&quot;de_aml&quot;,
         &quot;time&quot;:&quot;2012-04-23T18:25:43.511+01&quot;,
         &quot;verification_process&quot;:&quot;676q3636461467647q8498785747q487&quot;,
         &quot;evidence&quot;:[  
            {  
               &quot;type&quot;:&quot;id_document&quot;,
               &quot;method&quot;:&quot;pipp&quot;,
               &quot;document&quot;:{  
                  &quot;type&quot;:&quot;idcard&quot;,
                  &quot;issuer&quot;:{  
                     &quot;name&quot;:&quot;Stadt Augsburg&quot;,
                     &quot;country&quot;:&quot;DE&quot;
                  },
                  &quot;number&quot;:&quot;53554554&quot;,
                  &quot;date_of_issuance&quot;:&quot;2012-04-23&quot;,
                  &quot;date_of_expiry&quot;:&quot;2022-04-22&quot;
               }
            }
         ]
      },
      &quot;claims&quot;:{  
         &quot;given_name&quot;:&quot;Max&quot;,
         &quot;family_name&quot;:&quot;Meier&quot;,
         &quot;birthdate&quot;:&quot;1956-01-28&quot;
      }
   }
}
</artwork></figure>

</section>
</section>

<section anchor="verified-claims-in-id-tokens" title="Verified Claims in ID Tokens">

<section anchor="request-1" title="Request">
<t>この場合, RP は <spanx style="verb">claims</spanx> パラメーターで End-User に関する他の Claims と一緒に verified Claims を要求し, ID Token (grant type <spanx style="verb">code</spanx> の場合は token endpoint から配信される) にレスポンスを割り当てる.</t>
<t><spanx style="verb">claims</spanx> パラメータ値は次の通り:</t>

<figure><artwork type="json">{  
   &quot;id_token&quot;:{  
      &quot;email&quot;:null,
      &quot;preferred_username&quot;:null,
      &quot;picture&quot;:null,
      &quot;verified_claims&quot;:{  
         &quot;claims&quot;:{  
            &quot;given_name&quot;:null,
            &quot;family_name&quot;:null,
            &quot;birthdate&quot;:null
         }
      }
   }
}
</artwork></figure>

</section>

<section anchor="id-token" title="ID Token">
<t>それぞれの ID Token は次の通り:</t>

<figure><artwork type="json">{  
   &quot;iss&quot;:&quot;https://server.example.com&quot;,
   &quot;sub&quot;:&quot;24400320&quot;,
   &quot;aud&quot;:&quot;s6BhdRkqt3&quot;,
   &quot;nonce&quot;:&quot;n-0S6_WzA2Mj&quot;,
   &quot;exp&quot;:1311281970,
   &quot;iat&quot;:1311280970,
   &quot;auth_time&quot;:1311280969,
   &quot;acr&quot;:&quot;urn:mace:incommon:iap:silver&quot;,
   &quot;email&quot;:&quot;janedoe@example.com&quot;,
   &quot;preferred_username&quot;:&quot;j.doe&quot;,
   &quot;picture&quot;:&quot;http://example.com/janedoe/me.jpg&quot;,
   &quot;verified_claims&quot;:{  
      &quot;verification&quot;:{  
         &quot;trust_framework&quot;:&quot;de_aml&quot;,
         &quot;time&quot;:&quot;2012-04-23T18:25:43.511+01&quot;,
         &quot;verification_process&quot;:&quot;676q3636461467647q8498785747q487&quot;,
         &quot;evidence&quot;:[  
            {  
               &quot;type&quot;:&quot;id_document&quot;,
               &quot;method&quot;:&quot;pipp&quot;,
               &quot;document&quot;:{  
                  &quot;type&quot;:&quot;idcard&quot;,
                  &quot;issuer&quot;:{  
                     &quot;name&quot;:&quot;Stadt Augsburg&quot;,
                     &quot;country&quot;:&quot;DE&quot;
                  },
                  &quot;number&quot;:&quot;53554554&quot;,
                  &quot;date_of_issuance&quot;:&quot;2012-04-23&quot;,
                  &quot;date_of_expiry&quot;:&quot;2022-04-22&quot;
               }
            }
         ]
      },
      &quot;claims&quot;:{  
         &quot;given_name&quot;:&quot;Max&quot;,
         &quot;family_name&quot;:&quot;Meier&quot;,
         &quot;birthdate&quot;:&quot;1956-01-28&quot;
      }
   }
}
</artwork></figure>

</section>
</section>

<section anchor="aggregated-claims" title="Aggregated Claims">
<t>Note: 改行は掲載上の都合による</t>

<figure><artwork type="http">HTTP/1.1 200 OK
Content-Type: application/json

{ 
   &quot;iss&quot;:&quot;https://server.example.com&quot;, 
   &quot;sub&quot;:&quot;248289761001&quot;,
   &quot;email&quot;:&quot;janedoe@example.com&quot;,
   &quot;email_verified&quot;:true,
   &quot;_claim_names&quot;:{  
      &quot;verified_claims&quot;:&quot;src1&quot;
   },
   &quot;_claim_sources&quot;:{  
      &quot;src1&quot;:{  
      &quot;JWT&quot;:&quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJodHRwczovL3NlcnZlci5vdGh
      lcm9wLmNvbSIsInZlcmlmaWVkX2NsYWltcyI6eyJ2ZXJpZmljYXRpb24iOnsidHJ1c3RfZnJhbWV3b3
      JrIjoiZWlkYXNfaWFsX3N1YnN0YW50aWFsIn0sImNsYWltcyI6eyJnaXZlbl9uYW1lIjoiTWF4IiwiZ
      mFtaWx5X25hbWUiOiJNZWllciIsImJpcnRoZGF0ZSI6IjE5NTYtMDEtMjgifX19.M8tTKxzj5LBgqGj
      UAzFooEiCPJ4wcZVQDrnW5_ooAG4&quot;
      }
   }
}
</artwork></figure>

</section>

<section anchor="distributed-claims" title="Distributed Claims">

<figure><artwork type="http">HTTP/1.1 200 OK
Content-Type: application/json

{
   &quot;iss&quot;:&quot;https://server.example.com&quot;,  
   &quot;sub&quot;:&quot;248289761001&quot;,
   &quot;email&quot;:&quot;janedoe@example.com&quot;,
   &quot;email_verified&quot;:true,
   &quot;_claim_names&quot;:{  
      &quot;verified_claims&quot;:&quot;src1&quot;
   },
   &quot;_claim_sources&quot;:{  
      &quot;src1&quot;:{  
         &quot;endpoint&quot;:&quot;https://server.yetanotherop.com/claim_source&quot;,
         &quot;access_token&quot;:&quot;ksj3n283dkeafb76cdef&quot;
      }
   }
}
</artwork></figure>

</section>
</section>

<section anchor="opmetadata" title="OP Metadata">
<t>OP は 以下の新しい属性を利用して openid-configuration (see <xref target="OpenID-Discovery"></xref>) で verified Claims に関する機能を通知します。</t>
<t><spanx style="verb">verified_claims_supported</spanx>: <spanx style="verb">verified_claims</spanx> をサポートするか, つまり OpenID Connect for Identity Assuarance extension のサポートを示す Boolean 値.</t>
<t><spanx style="verb">trust_frameworks_supported</spanx> サポートする全ての trust frameworks を含む JSON 配列.</t>
<t><spanx style="verb">evidence_supported</spanx> OP が利用する全ての identity evicence の種類を含む JSON 配列.</t>
<t><spanx style="verb">id_documents_supported</spanx> OP が identity verification に利用しているすべての identity documents を含む JSON 配列.</t>
<t><spanx style="verb">id_documents_verification_methods_supported</spanx> <xref target="verification"></xref> に定義される OP がサポートする id document verification method を含む JSON配列.</t>
<t><spanx style="verb">claims_in_verified_claims_supported</spanx> <spanx style="verb">verified_claims</spanx> 内でサポートされる全ての claims を含む JSON 配列</t>
<t>以下に openid-configuration の snippet の例を示す.</t>

<figure><artwork type="json">{  
...
   &quot;verified_claims_supported&quot;:true,
   &quot;trust_frameworks_supported&quot;:[
     &quot;nist_800_63A_ial_2&quot;,
     &quot;nist_800_63A_ial_3&quot;
   ],
   &quot;evidence_supported&quot;:[
      &quot;id_document&quot;,
      &quot;utility_bill&quot;,
      &quot;qes&quot;
   ]
   &quot;id_documents_supported&quot;:[  
       &quot;idcard&quot;,
       &quot;passport&quot;,
       &quot;driving_permit&quot;
   ]
   &quot;id_documents_verification_methods_supported&quot;:[  
       &quot;pipp&quot;,
       &quot;sripp&quot;,
       &quot;eid&quot;
   ]
   &quot;claims_in_verified_claims_supported&quot;:[  
      &quot;given_name&quot;,
      &quot;family_name&quot;,
      &quot;birthdate&quot;,
      &quot;place_of_birth&quot;,
      &quot;nationality&quot;,
      &quot;address&quot;
   ],
...
}
</artwork></figure>

<t>OP は <spanx style="verb">claims</spanx> パラメーターをサポートし、<spanx style="verb">claims_parameter_supported</spanx> 要素を利用して openid-configuration でこれを公開しなければならない (MUST).</t>
</section>

<section anchor="purpose" title="Transaction-specific Purpose">
<t>この仕様では,  RP が要求しているユーザーデータの移転目的の説明を可能にする <spanx style="verb">purpose</spanx> リクエストパラメーターを導入する.</t>
<t><spanx style="verb">purpose</spanx> OPTIONAL. OP から特定のユーザーデータを取得する目的を説明する文字列. <spanx style="verb">purpose</spanx> は 3 文字未満か 300 文字以上となってはならない (MUST NOT). もしこのルールに違反した場合, authentication request は失敗し, OP は <spanx style="verb">invalid_request</spanx> エラーを RP にに返さなければならない (MUST).</t>
<t>移転されるデータの利用目的や承認しようとしている認可内容をユーザーに明示するため, OPは各同意画面にこの purpose を表示しなければならない (MUST).</t>
<t>一貫性のある UX を確保するために, RP は特定の言語で <spanx style="verb">purpose</spanx> を送信し, <spanx style="verb">ui_locales</spanx> パラメーターを使用して同じ言語を使用するよう OP に要求するかもしれない (MAY).</t>
<t><spanx style="verb">purpose</spanx> パラメーターがリクエストに存在しない場合, OP は RP ごとに事前設定された値を表示できる (MAY).</t>
<t>注: インジェクション攻撃を防ぐために, OP はユーザーインターフェイスに表示される前にテキストを適切にエスケープしなければならない (MUST).  OP は, RP によって提供された URL デコードされた purpose テキスト中に特殊文字を予期しなければならない (MUST). OP は, purpose テキスト内の特殊文字を使用して, OP の Web インターフェイスにコードをインジェクト (例: クロスサイトスクリプティング、改ざんなど) 出来ないようにしなければならない (MUST).  OP は適切なエスケープを適用しなければならない (MUST). OP は, この目的のために purpose テキストから文字を削除してはならない (SHALL NOT).</t>
</section>

<section anchor="Privacy" title="Privacy Consideration">
<t>OP and RP MUST establish a legal basis before exchanging any personally identifiable information. It can be established upfront or in the course of the OpenID process.</t>
</section>

<section anchor="Security" title="Security Considerations">
<t>The integrity and authenticity of the issued assertions MUST be ensured in order to prevent identity spoofing. The Claims source MUST therefore cryptographically sign all assertions.</t>
<t>The confidentiality of all user data exchanged between the protocol parties MUST be ensured using suitable methods at transport or application layer.</t>
</section>

<section anchor="predefined_values" title="Predefined Values">

<section anchor="predefined_values_tf" title="Trust Frameworks">
<t>This section defines trust framework identifiers for use with this specification.</t>
<texttable>
<ttcol align="left">Identifier</ttcol>
<ttcol align="left">Definition</ttcol>


<c>de_aml</c>
<c>The OP verifies and maintains user identities in conforms with the German Anti-Money Laundering Law.</c>

<c>eidas_ial_substantial</c>
<c>The OP is able to attest user identities in accordance with the EU regulation No 910/2014 (eIDAS) at the identitfication assurance level &quot;Substantial&quot;.</c>

<c>eidas_ial_high</c>
<c>The OP is able to attest user identities in accordance with the EU regulation No 910/2014 (eIDAS) at the identitfication assurance level &quot;High&quot;.</c>

<c>nist_800_63A_ial_2</c>
<c>The OP is able to attest user identities in accordance with the NIST Special Publication 800-63A at the Identity Assurance Level 2.</c>

<c>nist_800_63A_ial_3</c>
<c>The OP is able to attest user identities in accordance with the NIST Special Publication 800-63A at the Identity Assurance Level 3.</c>

<c>jp_aml</c>
<c>The OP verifies and maintains user identities in conforms with the Japanese Act on Prevention of Transfer of Criminal Proceeds.</c>

<c>jp_mpiupa</c>
<c>The OP verifies and maintains user identities in conformance with the Japanese Act for Identification, etc. by Mobile Voice Communications Carriers of Their Subscribers, etc. and for Prevention of Improper Use of Mobile Voice Communications Services.</c>

</texttable></section>

<section anchor="predefined_values_idd" title="Identity Documents">
<t>This section defines identity document identifiers for use with this specification.</t>
<texttable>
<ttcol align="left">Identifier</ttcol>
<ttcol align="left">Definition</ttcol>


<c>idcard</c>
<c>An identity document issued by a country's government for the purpose of identifying a citizen.</c>

<c>passport</c>
<c>A passport is a travel document, usually issued by a country's government, that certifies the identity and nationality of its holder primarily for the purpose of international travel.<xref target="OxfordPassport"></xref></c>

<c>driving_permit</c>
<c>Official document permitting an individual to operate motorized vehicles. In the absence of a formal identity document, a driver's license may be accepted in many countries for identity verification.</c>

<c>de_idcard_foreigners</c>
<c>ID Card issued by the German government to foreign nationals.</c>

<c>de_emergency_idcard</c>
<c>ID Card issued by the German government to foreign nationals as passports replacement</c>

<c>de_erp</c>
<c>Electronic Resident Permit issued by the German government to foreign nationals</c>

<c>de_erp_replacement_idcard</c>
<c>Electronic Resident Permit issued by the German government to foreign nationals as replacement for another identity document</c>

<c>de_idcard_refugees</c>
<c>ID Card issued by the German government to refugees as passports replacement</c>

<c>de_idcard_apatrids</c>
<c>ID Card issued by the German government to apatrids as passports replacement</c>

<c>de_certificate_of_suspension_of_deportation</c>
<c>identity document issued to refugees in case of suspension of deportation that are marked as &quot;id card replacement&quot;</c>

<c>de_permission_to_reside</c>
<c>permission to reside issued by the German governed to foreign nationals appliying for asylum</c>

<c>de_replacement_idcard</c>
<c>ID Card replacement document issued by the German government to foreign nationals (see Act on the Residence, Economic Activity and Integration of Foreigners in the Federal Territory, Residence Act, Appendix D1 ID Card replacement according to § 48 Abs. 2 i.V.m. § 78a Abs. 4)</c>

<c>jp_drivers_license</c>
<c>Japanese drivers license</c>

<c>jp_residency_card_for_foreigner</c>
<c>Japanese residence card for foreigners.</c>

<c>jp_individual_number_card</c>
<c>Japanese national id card.</c>

<c>jp_permanent_residency_card_for_foreigner</c>
<c>Japanese special residency card for foreigners to permit permanently resident.</c>

<c>jp_health_insurance_card</c>
<c>Japanese health and insurance card.</c>

<c>jp_residency_card</c>
<c>Japanese residency card</c>

</texttable></section>

<section anchor="predefined_values_vm" title="Verification Methods">
<t>This section defines verification method identifiers for use with this specification.</t>
<texttable>
<ttcol align="left">Identifier</ttcol>
<ttcol>Definition</ttcol>


<c>pipp</c>
<c>Physical In-Person Proofing</c>

<c>sripp</c>
<c>Supervised remote In-Person Proofing</c>

<c>eid</c>
<c>Online verification of an electronic ID card</c>

</texttable></section>
</section>

<section anchor="json_schema" title="JSON Schema">
<t>This section contains the JSON Schema of assertions containing the <spanx style="verb">verified_claims</spanx> claim.</t>

<figure><artwork type="JSON">{
  &quot;$schema&quot;: &quot;http://json-schema.org/draft-07/schema#&quot;,
  &quot;definitions&quot;:{
    &quot;qes&quot;:{
      &quot;type&quot;:&quot;object&quot;,
      &quot;properties&quot;:{
        &quot;type&quot;:{
          &quot;type&quot;:&quot;string&quot;,
          &quot;enum&quot;:[
            &quot;qes&quot;
          ]
        },
        &quot;issuer&quot;:{
          &quot;type&quot;:&quot;string&quot;
        },
        &quot;serial_number&quot;:{
          &quot;type&quot;:&quot;string&quot;
        },
        &quot;created_at&quot;:{
          &quot;type&quot;:&quot;string&quot;,
          &quot;format&quot;:&quot;date&quot;
        }
      },
      &quot;required&quot;: [&quot;type&quot;,&quot;issuer&quot;,&quot;serial_number&quot;,&quot;issued_at&quot;]
    },
    &quot;utility_bill&quot;:{
      &quot;type&quot;:&quot;object&quot;,
      &quot;properties&quot;:{
        &quot;type&quot;:{
          &quot;type&quot;:&quot;string&quot;,
          &quot;enum&quot;:[
            &quot;utility_bill&quot;
          ]
        },
        &quot;provider&quot;:{
          &quot;type&quot;:&quot;object&quot;,
          &quot;properties&quot;:{
            &quot;name&quot;:{
              &quot;type&quot;:&quot;string&quot;
            },
            &quot;country&quot;:{
              &quot;type&quot;:&quot;string&quot;
            },
            &quot;region&quot;:{
              &quot;type&quot;:&quot;string&quot;
            },
            &quot;street_address&quot;:{
              &quot;type&quot;:&quot;string&quot;
            }
          }
        },
        &quot;date&quot;:{
          &quot;type&quot;:&quot;string&quot;
        }
      },
      &quot;required&quot;: [&quot;type&quot;,&quot;provider&quot;,&quot;date&quot;]
    },
    &quot;id_document&quot;:{
      &quot;type&quot;:&quot;object&quot;,
      &quot;properties&quot;:{
        &quot;type&quot;:{
          &quot;type&quot;:&quot;string&quot;,
          &quot;enum&quot;:[
            &quot;id_document&quot;
          ]
        },
        &quot;method&quot;:{
          &quot;type&quot;:&quot;string&quot;,
          &quot;enum&quot;:[&quot;pipp&quot;,&quot;sripp&quot;,&quot;eid&quot;]
        },
        &quot;verifier&quot;:{
          &quot;type&quot;:&quot;object&quot;,
          &quot;properties&quot;:{
            &quot;organization&quot;:{
              &quot;type&quot;:&quot;string&quot;
            },
            &quot;txn&quot;:{
              &quot;type&quot;:&quot;string&quot;
            }
          }
        },
        &quot;time&quot;:{
              &quot;type&quot;:&quot;string&quot;,
              &quot;format&quot;:&quot;time&quot;
        },
        &quot;document&quot;:{
          &quot;type&quot;:&quot;object&quot;,
          &quot;properties&quot;:{
            &quot;type&quot;:{
              &quot;type&quot;:&quot;string&quot;,
              &quot;enum&quot;:[
                &quot;idcard&quot;,
                &quot;passport&quot;,
                &quot;driving_permit&quot;,
                &quot;de_idcard_foreigners&quot;,
                &quot;de_emergency_idcard&quot;,
                &quot;de_erp&quot;,
                &quot;de_erp_replacement_idcard&quot;,
                &quot;de_idcard_refugees&quot;,
                &quot;de_idcard_apatrids&quot;,
                &quot;de_certificate_of_suspension_of_deportation&quot;,
                &quot;de_permission_to_reside&quot;,
                &quot;de_replacement_idcard&quot;,
                &quot;jp_drivers_license&quot;,
                &quot;jp_residency_card_for_foreigner&quot;,
                &quot;jp_individual_number_card&quot;,
                &quot;jp_permanent_residency_card_for_foreigner&quot;,
                &quot;jp_health_insurance_card&quot;,
                &quot;jp_residency_card&quot;
              ]
            },
            &quot;number&quot;:{
              &quot;type&quot;:&quot;string&quot;
            },
            &quot;issuer&quot;:{
              &quot;type&quot;:&quot;object&quot;,
              &quot;properties&quot;:{
                &quot;name&quot;:{
                  &quot;type&quot;:&quot;string&quot;
                },
                &quot;country&quot;:{
                  &quot;type&quot;:&quot;string&quot;
                }
              }
            },
            &quot;date_of_issuance&quot;:{
              &quot;type&quot;:&quot;string&quot;,
              &quot;format&quot;:&quot;date&quot;
            },
            &quot;date_of_expiry&quot;:{
              &quot;type&quot;:&quot;string&quot;,
              &quot;format&quot;:&quot;date&quot;
            }
          }
        }
      },
      &quot;required&quot;:[
        &quot;type&quot;,
        &quot;method&quot;,
        &quot;document&quot;
      ]
    }
  },
  &quot;type&quot;:&quot;object&quot;,
  &quot;properties&quot;:{
    &quot;verified_claims&quot;:{
      &quot;type&quot;:&quot;object&quot;,
      &quot;properties&quot;:{
        &quot;verification&quot;:{
          &quot;type&quot;:&quot;object&quot;,
          &quot;properties&quot;:{
            &quot;trust_framework&quot;:{
              &quot;type&quot;:&quot;string&quot;,
              &quot;enum&quot;:[
                &quot;de_aml&quot;,
                &quot;eidas_ial_substantial&quot;,
                &quot;eidas_ial_hig&quot;,
                &quot;nist_800_63A_ial_2&quot;,
                &quot;nist_800_63A_ial_3&quot;,
                &quot;jp_aml&quot;,
                &quot;jp_mpiupa&quot;
              ]
            },
            &quot;time&quot;:{
              &quot;type&quot;:&quot;string&quot;,
              &quot;format&quot;:&quot;time&quot;
            },
            &quot;verification_process&quot;:{
              &quot;type&quot;:&quot;string&quot;
            },
            &quot;evidence&quot;:{
              &quot;type&quot;:&quot;array&quot;,
              &quot;minItems&quot;: 1,
              &quot;items&quot;:{
                &quot;oneOf&quot;:[
                  {
                    &quot;$ref&quot;:&quot;#/definitions/id_document&quot;
                  },
                  {
                    &quot;$ref&quot;:&quot;#/definitions/utility_bill&quot;
                  },
                  {
                    &quot;$ref&quot;:&quot;#/definitions/qes&quot;
                  }
                ]
              }
            }
          },
          &quot;required&quot;:[&quot;trust_framework&quot;],
          &quot;additionalProperties&quot;: false
        },
        &quot;claims&quot;:{
          &quot;type&quot;:&quot;object&quot;,
          &quot;minProperties&quot;: 1
        }
      },
      &quot;required&quot;:[&quot;verification&quot;,&quot;claims&quot;],
      &quot;additionalProperties&quot;: false
    },
    &quot;txn&quot;: {&quot;type&quot;: &quot;string&quot;}
  },
  &quot;required&quot;:[&quot;verified_claims&quot;]
}
</artwork></figure>

</section>

</middle>

<back>
<references title="Normative References">
<reference anchor="ISO3166-3" target="https://www.iso.org/standard/63547.html">
  <front>
    <title>ISO 3166-1:2013. Codes for the representation of names of countries and their subdivisions -- Part 3: Code for formerly used names of countries</title>
    <author fullname="International Organization for Standardization">
      <organization abbrev="ISO">International Organization for&#xA;&#x9;    Standardization</organization>
    </author>
    <date year="2013"></date>
  </front>
</reference>
<reference anchor="OpenID-Discovery" target="https://openid.net/specs/openid-connect-discovery-1_0.html">
  <front>
    <title>OpenID Connect Discovery 1.0 incorporating errata set 1</title>
    <author fullname="Nat Sakimura" initials="N." surname="Sakimura">
      <organization>NRI</organization>
    </author>
    <author fullname="John Bradley" initials="J." surname="Bradley">
      <organization>Ping Identity</organization>
    </author>
    <author fullname="Breno de Medeiros" initials="B." surname="de Medeiros">
      <organization>Google</organization>
    </author>
    <author fullname="Edmund Jay" initials="E." surname="Jay">
      <organization> Illumila </organization>
    </author>
    <date year="2014" month="Nov" day="8"></date>
  </front>
</reference>
<reference anchor="ISO3166-1" target="https://www.iso.org/standard/63545.html">
  <front>
    <title>ISO 3166-1:1997. Codes for the representation of names of&#xA;&#x9;  countries and their subdivisions -- Part 1: Country codes</title>
    <author fullname="International Organization for Standardization">
      <organization abbrev="ISO">International Organization for&#xA;&#x9;    Standardization</organization>
    </author>
    <date year="2013"></date>
  </front>
</reference>
<reference anchor="ICAO-Doc9303" target="https://www.icao.int/publications/Documents/9303_p3_cons_en.pdf">
  <front>
    <title>Machine Readable Travel Documents, Seventh Edition, 2015, Part 3: Specifications Common to all MRTDs</title>
    <author fullname="INTERNATIONAL CIVIL AVIATION ORGANIZATION">
      <organization abbrev="ICAO">INTERNATIONAL CIVIL AVIATION ORGANIZATION</organization>
    </author>
    <date year="2015"></date>
  </front>
</reference>
<reference anchor="OpenID" target="http://openid.net/specs/openid-connect-core-1_0.html">
  <front>
    <title>OpenID Connect Core 1.0 incorporating errata set 1</title>
    <author fullname="Nat Sakimura" initials="N." surname="Sakimura">
      <organization>NRI</organization>
    </author>
    <author fullname="John Bradley" initials="J." surname="Bradley">
      <organization>Ping Identity</organization>
    </author>
    <author fullname="Mike Jones" initials="M." surname="Jones">
      <organization>Microsoft</organization>
    </author>
    <author fullname="Breno de Medeiros" initials="B." surname="de Medeiros">
      <organization>Google</organization>
    </author>
    <author fullname="Chuck Mortimore" initials="C." surname="Mortimore">
      <organization>Salesforce</organization>
    </author>
    <date year="2014" month="Nov" day="8"></date>
  </front>
</reference>
<?rfc include="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.8417.xml"?>

</references>
<references title="Informative References">
<?rfc include="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.7662.xml"?>
<?rfc include="https://xml2rfc.ietf.org/public/rfc/bibxml-ids/reference.I-D.ietf-oauth-jwt-introspection-response.xml"?>



<reference anchor="eIDAS" target="https://eur-lex.europa.eu/legal-content/EN/TXT/HTML/?uri=CELEX:32014R0910">
  <front>
    <title>REGULATION (EU) No 910/2014 OF THE EUROPEAN PARLIAMENT AND OF THE COUNCIL on electronic identification and trust services for electronic transactions in the internal market and repealing Directive 1999/93/EC</title>
    <author surname="European Parliament">
      <organization>European Parliament</organization>
    </author>
    <date year="2014" month="July" day="23"></date>
  </front>
</reference>
<reference anchor="NIST-SP-800-63a" target="https://doi.org/10.6028/NIST.SP.800-63a">
  <front>
    <title>NIST Special Publication 800-63A, Digital Identity Guidelines, Enrollment and Identity Proofing Requirements</title>
    <author fullname="Paul A. Grassi">
      <organization>NIST</organization>
    </author>
    <author fullname="James L. Fentony" initials="James L." surname="Fentony">
      <organization>Altmode Networks</organization>
    </author>
    <author fullname="Naomi B. Lefkovitz" initials="Naomi B." surname="Lefkovitz">
      <organization>NIST</organization>
    </author>
    <author fullname="Jamie M. Danker" initials="Jamie M." surname="Danker">
      <organization>Department of Homeland Security</organization>
    </author>
    <author fullname="Yee-Yin Choong" initials="Yee-Yin" surname="Choong">
      <organization>NIST</organization>
    </author>
    <author fullname="Kristen K. Greene" initials="Kristen K." surname="Greene">
      <organization>NIST</organization>
    </author>
    <author fullname="Mary F. Theofanos" initials="Mary F." surname="Theofanos">
      <organization>NIST</organization>
    </author>
    <date year="2017" month="June"></date>
  </front>
</reference>
<reference anchor="OxfordPassport" target="http://www.oxfordreference.com/view/10.1093/acref/9780199290543.001.0001/acref-9780199290543-e-1616">
  <front>
    <title>The New Oxford Companion to Law. ISBN 9780199290543.</title>
    <author fullname="P. Cane" initials="P" surname="Cane"></author>
    <author fullname="J. Conaghan" initials="Mary F." surname="Conaghan"></author>
    <date year="2008"></date>
  </front>
</reference>
</references>

<references title="翻訳プロジェクト">
<reference anchor="oidfj" target="https://www.openid.or.jp">
  <front>
    <title>OpenIDファウンデーションジャパン</title>
    <author fullname="OpenIDファウンデーションジャパン">
      <organization>OpenIDファウンデーションジャパン</organization>
    </author>
    <date year=""></date>
  </front>
</reference>
<reference anchor="oidfj-trans" target='http://openid-foundation-japan.github.com/'>
  <front>
    <title>翻訳・教育ワーキンググループ</title>
    <author fullname="OpenIDファウンデーションジャパン">
      <organization>OpenIDファウンデーションジャパン</organization>
    </author>
    <date year=""></date>
  </front>
</reference>
<reference anchor="oidfj-kycwg" target='https://www.openid.or.jp'>
  <front>
    <title>KYCワーキンググループ</title>
    <author fullname="OpenIDファウンデーションジャパン">
      <organization>OpenIDファウンデーションジャパン</organization>
    </author>
    <date year=""></date>
  </front>
</reference>
<reference anchor="oidfj-github" target='https://github.com/openid-foundation-japan'>
  <front>
    <title>Githubレポジトリー</title>
    <author>
      <organization>OpenIDファウンデーションジャパン</organization>
    </author>
    <date year=""></date>
  </front>
</reference>
</references>

<section anchor="Acknowledgements" title="Acknowledgements">
<t>The following people at yes.com and partner companies contributed to the concept described in the initial contribution to this specification: Karsten Buch, Lukas Stiebig, Sven Manz, Waldemar Zimpfer, Willi Wiedergold, Fabian Hoffmann, Daniel Keijsers, Ralf Wagner, Sebastian Ebling, Peter Eisenhofer.</t>
<t>I would like to thank Sebastian Ebling, Marcos Sanz, Tom Jones, Mike Pegman,
Michael B. Jones, and Jeff Lombardo for their valuable feedback that helped to evolve this specification.</t>
</section>

<section anchor="notices" title="Notices">
<t>Copyright (c) 2019 The OpenID Foundation.</t>
<t>The OpenID Foundation (OIDF) grants to any Contributor, developer, implementer, or other interested party a non-exclusive, royalty free, worldwide copyright license to reproduce, prepare derivative works from, distribute, perform and display, this Implementers Draft or Final Specification solely for the purposes of (i) developing specifications, and (ii) implementing Implementers Drafts and Final Specifications based on such documents, provided that attribution be made to the OIDF as the source of the material, but that such attribution does not indicate an endorsement by the OIDF.</t>
<t>The technology described in this specification was made available from contributions from various sources, including members of the OpenID Foundation and others. Although the OpenID Foundation has taken steps to help ensure that the technology is available for distribution, it takes no position regarding the validity or scope of any intellectual property or other rights that might be claimed to pertain to the implementation or use of the technology described in this specification or the extent to which any license under such rights might or might not be available; neither does it represent that it has made any independent effort to identify any such rights. The OpenID Foundation and the contributors to this specification make no (and hereby expressly disclaim any) warranties (express, implied, or otherwise), including implied warranties of merchantability, non-infringement, fitness for a particular purpose, or title, related to this specification, and the entire risk as to implementing this specification is assumed by the implementer. The OpenID Intellectual Property Rights policy requires contributors to offer a patent promise not to assert certain patent claims against other contributors and against implementers. The OpenID Foundation invites any interested party to bring to its attention any copyrights, patents, patent applications, or other proprietary rights that may cover technology that may be required to practice this specification.</t>
</section>

<section anchor="document-history" title="Document History">
<t>[[ To be removed from the final specification ]]</t>
<t>-07</t>
<t>
<list style="symbols">
<t>fixed typos</t>
<t>changed <spanx style="verb">nationality</spanx> String claim to <spanx style="verb">nationalities</spanx> String array claim</t>
<t>replaced <spanx style="verb">agent</spanx> in id_document verifier element by <spanx style="verb">txn</spanx> element</t>
<t>qes method: fixed error in description of <spanx style="verb">issuer</spanx></t>
<t>qes method: changed <spanx style="verb">issued_at</spanx> to <spanx style="verb">created_at</spanx> since this field applies to the signature (that is created and not issued)</t>
<t>Changed format of <spanx style="verb">nationalities</spanx> and issuing <spanx style="verb">country</spanx> to ICAO codes</t>
<t>Changed <spanx style="verb">date</spanx> in verification element to <spanx style="verb">time</spanx></t>
<t>Added Japanese trust frameworks to pre-defined values</t>
<t>Added Japanese id documents to pre-defined values</t>
<t>adapted JSON schema and examples</t>
</list>
</t>
<t>-06</t>
<t>
<list style="symbols">
<t>Incorporated review feedback by Marcos Sanz and Adam Cooper</t>
<t>Added text on integrity, authenticity, and confidentiality for data passed between OP and RP to Security Considerations section</t>
<t>added <spanx style="verb">purpose</spanx> field to <spanx style="verb">claims</spanx> parameter</t>
<t>added feature to let the RP explicitly requested certain <spanx style="verb">verification</spanx> data</t>
</list>
</t>
<t>-05</t>
<t>
<list style="symbols">
<t>incorporated review feedback by Mike Jones</t>
<t>Added OIDF Copyright Notices</t>
<t>Moved Acknowledgements to Appendix A</t>
<t>Removed RFC 2119 keywords from scope &amp; requirements section and rephrased section</t>
<t>rephrased introduction</t>
<t>replaced <spanx style="verb">birth_name</spanx> with <spanx style="verb">birth_family_name</spanx>, <spanx style="verb">birth_given_name</spanx>, and <spanx style="verb">birth_middle_name</spanx></t>
<t>replaced <spanx style="verb">transaction_id</spanx> with <spanx style="verb">txn</spanx> from RFC 8417</t>
<t>added references to eIDAS, ISO 3166-1, ISO 3166-3, and ISO 8601-2004</t>
<t>added note on <spanx style="verb">purpose</spanx> and locales</t>
<t>changed file name and document title to include 1.0 version id</t>
<t>corrected evidence plural</t>
<t>lots of editorial fixes</t>
<t>Alignment with OpenID Connect Core wording</t>
<t>Renamed <spanx style="verb">id</spanx> to <spanx style="verb">verification_process</spanx></t>
<t>Renamed <spanx style="verb">verified_person_data</spanx> to <spanx style="verb">verified_claims</spanx></t>
</list>
</t>
<t>-04</t>
<t>
<list style="symbols">
<t>incorporated review feedback by Marcos Sanz</t>
</list>
</t>
<t>-03</t>
<t>
<list style="symbols">
<t>enhanced draft to support multiple evidence</t>
<t>added a JSON Schema for assertions containing the <spanx style="verb">verified_person_data</spanx> Claim</t>
<t>added more identity document definitions</t>
<t>added <spanx style="verb">region</spanx> field to <spanx style="verb">place_of_birth</spanx> Claim</t>
<t>changed <spanx style="verb">eidas_loa_substantial/high</spanx> to <spanx style="verb">eidas_ial_substantial/high</spanx></t>
<t>fixed typos in examples</t>
<t>uppercased all editorial occurences of the term <spanx style="verb">claims</spanx> to align with OpenID Connect Core</t>
</list>
</t>
<t>-02</t>
<t>
<list style="symbols">
<t>added new request parameter <spanx style="verb">purpose</spanx></t>
<t>simplified/reduced number of verification methods</t>
<t>simplfied identifiers</t>
<t>added <spanx style="verb">identity_documents_supported</spanx> to metadata section</t>
<t>improved examples</t>
</list>
</t>
<t>-01</t>
<t>
<list style="symbols">
<t>fixed some typos</t>
<t>remove organization element (redundant) (issue 1080)</t>
<t>allow other Claims about the End-User in the <spanx style="verb">claims</spanx> sub element (issue 1079)</t>
<t>changed <spanx style="verb">legal_context</spanx> to <spanx style="verb">trust_framework</spanx></t>
<t>added explanation how the content of the verification element is determined by the trust framework</t>
<t>added URI-based identifiers for <spanx style="verb">trust_framework</spanx>, <spanx style="verb">identity_document</spanx> and (verification) <spanx style="verb">method</spanx></t>
<t>added example attestation for notified/regulated eID system</t>
<t>adopted OP metadata section accordingly</t>
<t>changed error behavior for <spanx style="verb">max_age</spanx> member to alig with OpenID Core</t>
<t>Added feature to let the RP express requirements for verification data (trust framework, identity documents, verification method)</t>
<t>Added privacy consideration section and added text on legal basis for data exchange</t>
<t>Added explanation about regulated and un-regulated eID systems</t>
</list>
</t>
<t>-00 (WG document)</t>
<t>
<list style="symbols">
<t>turned the proposal into a WG document</t>
<t>changed name</t>
<t>added terminology section and reworked introduction</t>
<t>added several examples (ID Token vs UserInfo, unverified &amp; verified claims, aggregated &amp; distributed claims)</t>
<t>incorporated text proposal of Marcos Sanz regarding max_age</t>
<t>added IANA registration for new error code <spanx style="verb">unable_to_meet_requirement</spanx></t>
</list>
</t>
</section>

<section anchor="translator" title="翻訳者">
<t>本仕様の翻訳は, OpenIDファウンデーションジャパン <xref target="oidfj"></xref> KYCワーキンググループ<xref target="oidfj-kycwg"></xref>, 翻訳・教育ワーキンググループ <xref target="oidfj-trans"></xref> を主体として, 有志のメンバーによって行われました.
質問や修正依頼などについては, Githubレポジトリー <xref target="oidfj-github"></xref>にご連絡ください.</t>
<t>
<list style="symbols">
<t>Muneomi Sakuta (ソフトバンク株式会社)</t>
<t>Yuu Kikuchi (OPTiM Corporation)</t>
<t>Nov Matake (YAuth.jp)</t>
</list>
</t>
</section>

</back>

</rfc>
